{
  "name": "SECOND-CDMamba",
  "phase": "train",
  "gpu_ids":[0],

  "wandb": {
    "project": "mamba-cd-test"
  },

  "path_cd": {
    "log": "/root/home/pvc/Building_changedetection_job/experiments/logs",
    "result": "/root/home/pvc/Building_changedetection_job/experiments/results",
    "checkpoint": "/root/home/pvc/Building_changedetection_job/experiments/checkpoint",
    "resume_state": null
  },

  "datasets": {
    "train": {
      "name": "SECOND-CD-256",
      "datasetroot": "/root/home/pvc/SECOND/train",
      "resolution": 512,
      "num_workers": 4,
      "batch_size": 2,
      "use_shuffle": true,
      "data_len": -1
    },
    "val": {
      "name": "SECOND-CD-256",
      "datasetroot": "/root/home/pvc/SECOND/val",
      "resolution": 512,
      "num_workers": 4,
      "batch_size": 2,
      "use_shuffle": false,
      "data_len": -1
    },

    "test": {
      "name": "SECOND-CD-256",
      "datasetroot": "/root/home/pvc/SECOND/test",
      "resolution": 512,
      "num_workers": 4,
      "batch_size": 2,
      "use_shuffle": false,
      "data_len": -1
    }
  },

  "model" : {
    "name" : "cdmamba_seg",
    "loss": "seg_loss",
    // "extended_triplet": {
    //   "lambda_seg": 1.0,
    //   "lambda_cd": 0,
    //   "lambda_unch": 0, 
    //   "lambda_ch": 0,
    //   "lambda_cpl": 0,
    //   "T": 2.0,
    //   "margin": 0.3
    // },
    "init_filters" : 16,
    "n_classes" : 7,
    "ignore_index": 255,
    "mode" : "AGLGF",
    "conv_mode" : "orignal_dinner",
    "local_query_model" : "orignal_dinner",
    "up_mode" : "SRCM",
    "up_conv_mode" : "deepwise",
    "spatial_dims" : 2,
    "in_channels" : 3,
    "resdiual" : false,
    "blocks_down" : [1, 2, 2, 4],
    "blocks_up" : [1, 1, 1],
    "diff_abs" : "later",
    "stage" : 2,
    "mamba_act" : "relu",
    "norm" : ["GROUP", {"num_groups": 8}]
  },

  "train" : {
    "n_epoch" : 200,
    "train_print_iter" : 500,
    "val_freq" : 1,
    "val_print_iter" : 50,
    "optimizer" :{
      "type" : "adamW",
      "lr" : 3e-4,
    "beta1": 0.9,
    "beta2": 0.999
    },
    "sheduler" : {
      "lr_policy" : "linear",
      "n_step" : 3,
      "gamma" : 0.1
    }
  }
}
